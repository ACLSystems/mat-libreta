<div class="container-fluid peque p-0">
	<div class="container m-auto"></div>
	<div class="card">
		<div class="card-header my-0 py-0">
			<div class="row">
				<div class="col m-0 p-0">
					<h3 class="card-title text-primary">Nuevo usuario</h3>
				</div>
			</div>
		</div>
		<div class="card-body p-1" [formGroup]="userForm">
			<div class="row">
				<div class="col-sm col-md-6">
					<mat-form-field>
						<mat-label>RFC</mat-label>
						<input
							matInput
							type="text"
							[errorStateMatcher]="matcher"
							formControlName="identifier"
							required
							>
							<mat-error
							*ngIf="(identifier.dirty || identifier.touched) && identifier.invalid && identifier.hasError('required')"
							>
								* Campo requerido
							</mat-error>
							<mat-error
							*ngIf="identifier.errors?.mustBeValidRFC"
							>
								* Debe ser un RFC válido con homoclave
							</mat-error>
					</mat-form-field>
				</div>
				<div class="col-sm col-md-6">
					<mat-form-field>
						<mat-label>Email</mat-label>
						<input
						matInput
						type="text"
						[errorStateMatcher]="matcher"
						formControlName="email"
						required
						>
						<mat-error
						*ngIf="(email.dirty || email.touched) && email.invalid && email.hasError('required')"
						>
							* Campo requerido
						</mat-error>
						<mat-error
						*ngIf="email.errors?.mustBeValidEmail"
						>
							* Debe ser una cuenta de correo válida
						</mat-error>
					</mat-form-field>
				</div>
			</div>
			<div class="row">
				<div class="col-sm col-md-4">
					<mat-form-field>
						<mat-label>Nombre</mat-label>
						<input
						matInput
						type="text"
						formControlName="name"
						[errorStateMatcher]="matcher"
						required
						>
						<mat-error
						*ngIf="(name.dirty || name.touched) && name.invalid && name.hasError('required')"
						>
							* Campo requerido
						</mat-error>
					</mat-form-field>
				</div>
				<div class="col-sm col-md-4">
					<mat-form-field>
						<mat-label>Apellido Paterno</mat-label>
						<input
						matInput
						type="text"
						formControlName="fatherName"
						[errorStateMatcher]="matcher"
						required
						>
						<mat-error
						*ngIf="(fatherName.dirty || fatherName.touched) && fatherName.invalid && fatherName.hasError('required')"
						>
							* Campo requerido
						</mat-error>
					</mat-form-field>
				</div>
				<div class="col-sm col-md-4">
					<mat-form-field>
						<mat-label>Apellido Materno</mat-label>
						<input
						matInput
						type="text"
						formControlName="motherName"
						[errorStateMatcher]="matcher"
						required
						>
						<mat-error
						*ngIf="(motherName.dirty || motherName.touched) && motherName.invalid && motherName.hasError('required')"
						>
							* Campo requerido
						</mat-error>
					</mat-form-field>
				</div>
			</div>
			<div class="row">
				<div class="col-sm col-md">
					<mat-form-field>
						<mat-label>Empresa</mat-label>
						<input
						matInput
						type="text"
						placeholder="Usa 3 letras para buscar la empresa, ya sea por RFC o por nombre"
						[errorStateMatcher]="matcher"
						formControlName="company"
						(input)="searchCompany();"
						required
						>
						<mat-error
						*ngIf="(company.dirty || company.touched) && company.invalid && company.hasError('required')"
						>
							* Campo requerido
						</mat-error>
					</mat-form-field>
				</div>
			</div>
		</div>
		<div class="card-footer">
			<div class="row">
				<div class="col">
					<div class="btn-group">
						<button
							class="btn btn-sm btn-primary"
							(click)="reset();"
							><i class="fas fa-undo"></i> Reset</button>
					</div>
				</div>
				<div class="col">
					<div class="btn-group float-right">
						<button
							class="btn btn-sm btn-success"
							(click)="save();"
							><i class="fas fa-save"></i> Guardar</button>
						<button
							class="btn btn-sm btn-danger"
							(click)="close();"
							><i class="fas fa-times-circle"></i> Cerrar</button>
				</div>
			</div>
			<div class="col text-center">
				<span class="h4" *ngIf="password">Password inicial: {{password}}</span>
			</div>
		</div>
	</div>
</div>
