<div class="wrapper wrapper-full-page">
	<div class="page-header login-page header-filter"
		filter-color="black"
		style="background-image: url('./assets/img/bg1.jpg');
		background-size: cover; background-position: top center;"
		>
		<div class="container">
	    <div class="row">
					<div class="d-block d-sm-none">XS&nbsp;</div>
					<div class="d-block d-sm-block d-md-none">SM&nbsp;</div>
					<div class="d-none d-md-block d-lg-none">MD&nbsp;</div>
					<div class="d-none d-lg-block d-xl-none">LG&nbsp;</div>
					<div class="d-none d-xl-block">XL&nbsp;</div>
					<div class="col-xs col-sm-10 col-md-10 col-lg-6 col-xl-5 ml-auto mr-auto">
			      <div class="card card-login">
							<div class="card-header card-header-primary text-center">
								<p class="h3 card-title">Iniciar sesión</p>
							</div>
			        <div class="card-body">
			          <div [formGroup]="loginForm">
									<div class="row">
										<div class="col">
											<div class="input-group">
												<div class="input-group-prepend">
													<span class="input-group-text">
														<i class="fas fa-user"></i>
													</span>
												</div>
												<input type="email"
													class="form-control"
													placeholder="RFC"
													name="username"
													formControlName="identifier"
													autocomplete="username"
													(blur)="rfcUpper()"
													required>
											</div>
										</div>
									</div>
									<div class="row" *ngIf="(identifier.dirty || identifier.touched) && identifier.invalid && identifier.errors.required">
										<div class="col text-danger">
											<small>* El RFC es requerido</small>
										</div>
									</div>
									<div class="row">
										<div
										class="col text-danger"
										*ngIf="identifier.errors?.mustBeValidRFC">
											<small>* Debe ser un RFC válido (AAA000000AA0)</small>
										</div>
									</div>
									<div class="row">
										<div class="col">
											<div class="input-group">
					            	<div class="input-group-prepend">
					            		<span class="input-group-text">
					            			<i class="fas fa-lock"></i>
					            		</span>
					            	</div>
												<input type="{{type}}"
													class="form-control"
													placeholder="Password"
													formControlName="password"
													name="password"
													autocomplete="currrent-password"
													(blur)="getCredentials();"
													required>
					            </div>
										</div>
									</div>
									<div class="row">
										<div class="col text-danger" *ngIf="(password.dirty || password.touched) && password.invalid && password.errors.required">
											<small>* El password es requerido.</small>
										</div>
									</div>
			          </div>
			          <div class="form-check">
			            <input class="form-check-input" type="checkbox" id="validacion1" (change)="showPass()">
			            <label class="form-check-label" for="validacion1"> <small><i class="fas fa-eye"></i> Mostrar contraseña</small></label>
			          </div>
			          <hr>
								<div class="container">
				          <button *ngIf="!dataIsOk" type="button"
										class="btn btn-success btn-block" disabled>
										<i class="fas fa-sign-in-alt"></i> Entrar</button>
				          <button *ngIf="dataIsOk"
										type="button" class="btn btn-success btn-block"
										(click)="getlogin()"
										(keyup.enter)="getlogin()"
										>
				            <i [ngClass]=" { 'fa-key':!loading, 'fa-sync fa-spin':loading }" class="fa"></i>
				            <span *ngIf="!loading"> Entrar</span>
				            <span *ngIf="loading"> Procesando</span>
				          </button>
									<!-- <button type="button"
										class="btn btn-secondary btn-block"
										data-toggle="modal"
										data-target="#accesoSinPassword"
										>
										<i class="fas fa-lock-open"></i> Acceso sin password
									</button> -->
				          <button type="button"
										class="btn btn-primary btn-block"
										[routerLink]="['/pages/reqrecoverpass']">
										<i class="fas fa-unlock-alt"></i> Recuperar acceso
									</button>
									<!-- <hr>
									<button type="button"
										class="btn btn-info btn-block"
										[routerLink]="['/signin']">
										<i class="fas fa-user-plus"></i> <small> No tengo usuario</small> -> Registrarme
									</button> -->
									<div class="modal fade"
										id="accesoSinPassword"
										tabindex="-1" role="dialog">
										<div class="modal-dialog" role="document">
											<div class="modal-content">
												<div class="modal-header">
								          <h5 class="modal-title">Próximamente</h5>
								          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
								            <i class="fas fa-times"></i>
								          </button>
								        </div>
								        <div class="modal-body">
								          <p>Esta funcionalidad estará disponible próximamente.</p>
								        </div>
								        <div class="modal-footer">
								          <button type="button" class="btn btn-danger btn-link" data-dismiss="modal">Cerrar</button>
								        </div>
											</div>
										</div>
									</div>
								</div>
			        </div>
			      </div>
			    </div>
	    </div>
	  </div>
	</div>
</div>
