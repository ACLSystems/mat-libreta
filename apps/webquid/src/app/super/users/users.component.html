<div *ngIf="loading" class="text-center">
	<app-loading-spinner></app-loading-spinner>
</div>
<div *ngIf="loading" class="text-center">
	<div class="card">
		<div class="card-body">
			<h1 class="text-center">Espera...</h1>
		</div>
	</div>
</div>
<div *ngIf="!loading">
	<div class="card">
		<div class="card-header">
			<h4>Lista de empleados</h4>
		</div>
		<div class="card-body">
			<table
				datatable
				class="table table-striped table-hover"
				cellspacing="0"
				width="100%"
				style="width:100%"
				[dtOptions]="dtOptions"
			>
				<thead>
					<tr>
						<th *ngFor="let header of tableHeader">
							{{header}}
						</th>
					</tr>
				</thead>
				<tbody>
					<tr *ngFor="let user of users; let index=index">
						<td>{{index+1}}</td>
						<td *ngIf="user.isActive" class="text-success text-center">
							<i class="fas fa-circle"></i>
						</td>
						<td *ngIf="!user.isActive" class="text-danger text-center">
							<i class="fas fa-circle"></i>
						</td>
						<td>{{user.identifier}}</td>
						<td>{{user.name}} {{user.fatherName}} {{user.motherName}}</td>
						<td>{{user.email}}</td>
						<td>{{user.iniPass}}</td>
						<td *ngIf="user.beginDate">
							{{user.beginDate| date:'mediumDate'}}
						</td>
						<td *ngIf="!user.beginDate">
						</td>
						<td *ngIf="user.vacations.years">
							{{user.vacations.years}}
						</td>
						<td *ngIf="!user.vacations.years"></td>
						<td *ngIf="user.vacations.days">
							{{user.vacations.days}}
						</td>
						<td *ngIf="!user.vacations.days"></td>
						<td *ngIf="user.vacationHistory && user.vacationHistory.length > 0">
							<div *ngFor="let vaca of user.vacationHistory">
								{{vaca.beginDate| date:'mediumDate'}} a {{vaca.endDate| date:'mediumDate'}}<br />
							</div>
						</td>
						<td *ngIf="!user.vacationHistory || user.vacationHistory.length === 0">
						</td>
					</tr>
				</tbody>
				<tfoot>
					<tr>
						<th *ngFor="let header of tableHeader">
							{{header}}
						</th>
					</tr>
				</tfoot>
			</table>
		</div>
	</div>
</div>
